---
title: "cleaning-script"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## package loading

loading in the relevant packages CRAN packages. 

```{r}
library(tidyverse)
library(ggpubr)
```


## data loading

loading in the US enrollment data from the `parent-dataset` folder

```{r}
read.csv("/Users/kenjinchang/github/projected-impact-model/parent-datasets/enrollment_projections.csv") %>%
  as_tibble() 
```

performing the necessary cleaning procedures to make the parent dataset suitable for our analyses

in order, we: 

1. omit the initial two rows that correspond to (1) the title of the table and and (2) the numeric column identifiers

2. omit the degree-level percent-female variables 

3. rename the variables for brevity

4. omit the row specifying the variable ID

5. omit the source information and table notes from the tibble

6. renamed the columns dichotomously indicating whether the corresponding bachelor-level enrollment value include degrees classified as master's or doctor's degree in later years

7. changed column values within the the `bach_deg_tot_assoc`, `bach_deg_m_assoc`, and `bach_deg_f_assoc` from `\\2\\` to `1` and `0`, with `1` corresponding to enrollment totals that do incoude degrees classified as master's or doctor's degrees in later years and `0` corresponding to enrollent totals that do not




```{r}
read.csv("/Users/kenjinchang/github/projected-impact-model/parent-datasets/enrollment_projections.csv",skip=1) %>%
  as_tibble() %>%
  filter(!row_number() %in% c(2)) %>%
  select(!c(Associate.s.degrees.3,Bachelor.s.degrees.6,Master.s.degrees.3,Doctor.s.degrees.1..3)) %>%
  rename(year=Year,assoc_deg_tot=Associate.s.degrees,assoc_deg_m=Associate.s.degrees.1,assoc_deg_f=Associate.s.degrees.2,bach_deg_tot=Bachelor.s.degrees,bach_deg_m=Bachelor.s.degrees.2,bach_deg_f=Bachelor.s.degrees.4,mast_deg_tot=Master.s.degrees,mast_deg_m=Master.s.degrees.1,mast_deg_f=Master.s.degrees.2,doct_deg_tot=Doctor.s.degrees.1.,doct_deg_m=Doctor.s.degrees.1..1,doct_deg_f=Doctor.s.degrees.1..2) %>%
  filter(!row_number() %in% c(1,66,67,68,69,70,71)) %>%
  rename(bach_deg_tot_assoc=Bachelor.s.degrees.1,bach_deg_m_assoc=Bachelor.s.degrees.3,bach_deg_f_assoc=Bachelor.s.degrees.5) %>%
  mutate(bach_deg_tot_assoc=replace(bach_deg_tot_assoc, bach_deg_tot_assoc != "\\2\\","0")) %>%
  mutate(bach_deg_tot_assoc=replace(bach_deg_tot_assoc, bach_deg_tot_assoc == "\\2\\","1")) %>%
  mutate(bach_deg_m_assoc=replace(bach_deg_m_assoc, bach_deg_m_assoc != "\\2\\","0")) %>%
  mutate(bach_deg_m_assoc=replace(bach_deg_m_assoc, bach_deg_m_assoc == "\\2\\","1")) %>%
  mutate(bach_deg_f_assoc=replace(bach_deg_f_assoc, bach_deg_f_assoc != "\\2\\","0")) %>%
  mutate(bach_deg_f_assoc=replace(bach_deg_f_assoc, bach_deg_f_assoc == "\\2\\","1")) 
```
  

  
